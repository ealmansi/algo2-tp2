\algoritmoI{NuevoSistemaLaboral}{}{\param{}{res}{estrS}}
{
	\state res.gremios \asig Vacía()
	\state res.gruposDeAliados \asig Vacía()
}
{0}

\algoritmoIvoid{AgregarGremio}{\param{in/out}{sl}{estrS}, \param{in/out}{gr}{gremio}}
{
	\state \var{idGremio}{id} \asig ObtenerProximoIdGremio(sl)
	\state
	\state GuardarId(gr,id)
	\state sl.gremios[id] \asig \&gr
	\state sl.gruposDeAliados[id] \asig ObtenerProximoIdGrupoDeAliados(sl)
}
{0}

\algoritmoIvoid{AliarGremios}{\param{in/out}{sl}{estrS}, \param{in}{gr1}{gremio}, \param{in}{gr2}{gremio}}
{
	\state \var{idGrupo}{idGrupoG1} \asig ObtenerIdGrupoDeAliados(sl, \&gr1)
	\state \var{idGrupo}{idGrupoG2} \asig ObtenerIdGrupoDeAliados(sl, \&gr2)
	\state 
	\state UnificarGruposDeAliados(sl, idGrupoG1, idGrupoG2)
}
{0}

\algoritmoI{ObtenerGremios}{\param{in}{sl}{estrS}}{\param{}{res}{conj(gremio)}}
{
	\state res \asig Vacío()

	\state
	\state \var{nat}{indice} \asig 0
	\while{indice \menor Longitud(sl.gremios)}
		\state

		\state Agregar(res, *sl.gremios[indice])

		\state
		\state indice \asig indice + 1
	\endwhile
}
{0}

\algoritmoI{Obtener\#GruposDeAliados}{\param{in}{sl}{estrS}}{\param{}{res}{nat}}
{
	\state res \asig MaximoIdGrupoDeAliados(sl)
}
{0}

\algoritmoI{ObtenerIdGrupoDeAliados}{\param{in}{sl}{estrS}, \param{in}{gr}{puntero(gremio)}}{\param{}{res}{idGrupo}}
{
	\state res \asig sl.gruposDeAliados[ObtenerId(*gr)]
}
{0}

\algoritmoIvoid{GuardarIdGrupoDeAliados}{\param{in/out}{sl}{estrS}, \param{in}{gr}{puntero(gremio)}, \param{in}{id}{idGrupo}}
{
	\state sl.gruposDeAliados[ObtenerId(*gr)] \asig id
}
{0}

\algoritmoI{ObtenerProximoIdGremio}{\param{in}{sl}{estrS}}{\param{}{res}{idGremio}}
{
	\state res \asig Longitud(sl.gremios)
}
{0}

\algoritmoI{ObtenerProximoIdGrupoDeAliados}{\param{in}{sl}{estrS}}{\param{}{res}{idGrupo}}
{
	\If{Longitud(sl.gruposDeAliados) \igual 0}
		\state res \asig 0
	\Else
		\state res \asig MaximoIdGrupoDeAliados(sl) + 1
	\endif
}
{0}

\algoritmoIvoid{UnificarGruposDeAliados}{\param{in/out}{sl}{estrS}, \param{in}{id1}{idGrupo}, \param{in}{id2}{idGrupo}}
{
	\state \var{idGrupo}{idMenor} \asig Min(id1, id2)
	\state \var{idGrupo}{idMayor} \asig Max(id1, id2)
	\state

	\state \var{nat}{indice} \asig 0

	\while{indice \menor Longitud(sl.gremios)}
		\state

		\state \var{puntero(gremio)}{gr} \asig sl.gremios[indice]
		\state \var{idGrupo}{idG} \asig ObtenerIdGrupoDeAliados(sl, gr)
		\state

		\If{idMayor \igual idG}
			\state GuardarIdGrupoDeAliados(sl, gr, idMenor)
		\Else \If{idMayor \menor idG}
				\state GuardarIdGrupoDeAliados(sl, gr, idG - 1)
			\endif
		\endif
		\state

		\state indice \asig indice + 1
	\endwhile
}
{0}

\algoritmoI{MaximoIdGrupoDeAliados}{\param{in}{sl}{estrS}}{\param{}{res}{nat}}
{
	\state \var{nat}{maxId} \asig 0

	\state
	\state \var{nat}{indice} \asig 0
	\while{indice \menor Longitud(sl.gruposDeAliados)}
		\state
		
		\state maxId \asig Max(maxId, sl.gruposDeAliados[indice])

		\state
		\state indice \asig indice + 1
	\endwhile
	\state

	\state res \asig maxId
}
{0}

\algoritmoI{Min}{\param{in}{id1}{idGrupo}, \param{in}{id2}{idGrupo}}{\param{}{res}{idGrupo}}
{
	\If{id1 \menor id2}
		\state res \asig id1
	\Else
		\state res \asig id2
	\endif
}
{0}

\algoritmoI{Max}{\param{in}{id1}{idGrupo}, \param{in}{id2}{idGrupo}}{\param{}{res}{idGrupo}}
{
	\If{id1 \menor id2}
		\state res \asig id2
	\Else
		\state res \asig id1
	\endif
}
{0}